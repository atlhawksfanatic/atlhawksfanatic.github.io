[
  {
    "objectID": "posts/2024-03-15-points-of-emphasis/index.html",
    "href": "posts/2024-03-15-points-of-emphasis/index.html",
    "title": "Post of Emphasis on: Points Of Emphasis",
    "section": "",
    "text": "I have to admit I do not know how to adequately explain the portion of the NBA’s online website that this post is focused on. It is the NBA Official site which focuses on the Officials of the NBA – also known as referees. This is not to be confused with the larger NBA dot com which is described as:\nin web searches. That is the official NBA site, of which the NBA Official site is within that, which I guess makes it the official NBA Official site?\nANYWAY: the TLDR is Tom and Ethan are both probably right and there’s always been murkiness with NBA refereeing that I give you a bunch of background on as well as concrete data about."
  },
  {
    "objectID": "posts/2024-03-15-points-of-emphasis/index.html#total-emphasis",
    "href": "posts/2024-03-15-points-of-emphasis/index.html#total-emphasis",
    "title": "Post of Emphasis on: Points Of Emphasis",
    "section": "Total Emphasis",
    "text": "Total Emphasis\n\n\n\n\n\n\n\n\n\n\n\n\n\nemphasis\nfavors\n2023-09-23\n2023-12-04\n2024-01-19\n2024-02-26\n\n\n\n\nbench conduct\ntotal\n7\n2\n2\n2\n\n\nfreedom of movement - perimeter\ntotal\n3\n2\n3\n3\n\n\nfreedom of movement - post\ntotal\n2\n2\n2\n3\n\n\nfreedom of movement - screens\ntotal\n4\n3\n3\n3\n\n\nnot a transition take foul\ntotal\n2\n1\nNA\n1\n\n\noffensive player veers off his path into defender\ntotal\n2\n2\n2\n2\n\n\noffensive player’s off-arm hooks the defender\ntotal\n2\n2\n1\n2\n\n\nrespect for the game\ntotal\n12\n11\n9\n12\n\n\nrip through/shooter launches away from basket\ntotal\n5\n2\n3\n1\n\n\nshooter kicks out his leg at an abnormal angle\ntotal\n2\n2\n2\n3\n\n\nshooter launches/leans into defender at abnormal angle\ntotal\n2\n2\n1\n2\n\n\ntransition take foul\ntotal\n2\n1\n2\n1\n\n\ntraveling\ntotal\n4\n3\n3\n4\n\n\nflopping violation\ntotal\nNA\n2\n2\n3\n\n\nnot a flopping violation\ntotal\nNA\n2\n1\nNA\n\n\n\n\n\nIn terms of raw mentions, I don’t see much of a change in which POE have more mentions throughout the Season. Sure, flopping wasn’t talked about much at the beginning and the emphasis on bench conduct has rapidly deteriorated from the first release. But aside from that? It’s pretty ho-hum for particular emphasis. At this point, grading the NBA personnel that Ethan talked to I would say they have a point that there was no appreciable change in how the NBA Officials treated particular violations. But maybe the devil is in the details and Monty was signaling changes by the types of plays he was using as an example in the POE videos? We can analyze this by looking at what the points were emphasizing."
  },
  {
    "objectID": "posts/2024-03-15-points-of-emphasis/index.html#emphasis-by-favorability",
    "href": "posts/2024-03-15-points-of-emphasis/index.html#emphasis-by-favorability",
    "title": "Post of Emphasis on: Points Of Emphasis",
    "section": "Emphasis by Favorability",
    "text": "Emphasis by Favorability\n\n\n\n\n\n\n\n\n\n\n\n\n\nemphasis\nfavors\n2023-09-23\n2023-12-04\n2024-01-19\n2024-02-26\n\n\n\n\nbench conduct\noffense\n2\n0\n0\n0\n\n\nbench conduct\ndefense\n0\n0\n0\n0\n\n\nbench conduct\nstars\n0\n0\n0\n0\n\n\nbench conduct\nnonstars\n5\n2\n2\n2\n\n\nflopping violation\noffense\n0\n2\n2\n3\n\n\nflopping violation\ndefense\n0\n0\n0\n0\n\n\nflopping violation\nstars\n0\n0\n0\n0\n\n\nflopping violation\nnonstars\n0\n0\n0\n0\n\n\nfreedom of movement - perimeter\noffense\n2\n2\n2\n1\n\n\nfreedom of movement - perimeter\ndefense\n1\n0\n1\n2\n\n\nfreedom of movement - perimeter\nstars\n0\n0\n0\n0\n\n\nfreedom of movement - perimeter\nnonstars\n0\n0\n0\n0\n\n\nfreedom of movement - post\noffense\n1\n2\n1\n1\n\n\nfreedom of movement - post\ndefense\n1\n0\n1\n2\n\n\nfreedom of movement - post\nstars\n0\n0\n0\n0\n\n\nfreedom of movement - post\nnonstars\n0\n0\n0\n0\n\n\nfreedom of movement - screens\noffense\n0\n0\n0\n0\n\n\nfreedom of movement - screens\ndefense\n4\n3\n3\n3\n\n\nfreedom of movement - screens\nstars\n0\n0\n0\n0\n\n\nfreedom of movement - screens\nnonstars\n0\n0\n0\n0\n\n\nnot a flopping violation\noffense\n0\n0\n0\n0\n\n\nnot a flopping violation\ndefense\n0\n2\n1\n0\n\n\nnot a flopping violation\nstars\n0\n0\n0\n0\n\n\nnot a flopping violation\nnonstars\n0\n0\n0\n0\n\n\nnot a transition take foul\noffense\n0\n1\n0\n0\n\n\nnot a transition take foul\ndefense\n2\n0\n0\n1\n\n\nnot a transition take foul\nstars\n0\n0\n0\n0\n\n\nnot a transition take foul\nnonstars\n0\n0\n0\n0\n\n\noffensive player veers off his path into defender\noffense\n1\n1\n0\n1\n\n\noffensive player veers off his path into defender\ndefense\n1\n1\n2\n1\n\n\noffensive player veers off his path into defender\nstars\n0\n0\n0\n0\n\n\noffensive player veers off his path into defender\nnonstars\n0\n0\n0\n0\n\n\noffensive player’s off-arm hooks the defender\noffense\n1\n1\n0\n0\n\n\noffensive player’s off-arm hooks the defender\ndefense\n1\n1\n1\n2\n\n\noffensive player’s off-arm hooks the defender\nstars\n0\n0\n0\n0\n\n\noffensive player’s off-arm hooks the defender\nnonstars\n0\n0\n0\n0\n\n\nrespect for the game\noffense\n0\n0\n0\n0\n\n\nrespect for the game\ndefense\n0\n0\n0\n0\n\n\nrespect for the game\nstars\n6\n5\n3\n4\n\n\nrespect for the game\nnonstars\n6\n6\n6\n8\n\n\nrip through/shooter launches away from basket\noffense\n1\n2\n3\n1\n\n\nrip through/shooter launches away from basket\ndefense\n4\n0\n0\n0\n\n\nrip through/shooter launches away from basket\nstars\n0\n0\n0\n0\n\n\nrip through/shooter launches away from basket\nnonstars\n0\n0\n0\n0\n\n\nshooter kicks out his leg at an abnormal angle\noffense\n1\n0\n1\n1\n\n\nshooter kicks out his leg at an abnormal angle\ndefense\n1\n2\n1\n2\n\n\nshooter kicks out his leg at an abnormal angle\nstars\n0\n0\n0\n0\n\n\nshooter kicks out his leg at an abnormal angle\nnonstars\n0\n0\n0\n0\n\n\nshooter launches/leans into defender at abnormal angle\noffense\n1\n1\n0\n2\n\n\nshooter launches/leans into defender at abnormal angle\ndefense\n1\n1\n1\n0\n\n\nshooter launches/leans into defender at abnormal angle\nstars\n0\n0\n0\n0\n\n\nshooter launches/leans into defender at abnormal angle\nnonstars\n0\n0\n0\n0\n\n\ntransition take foul\noffense\n2\n1\n2\n1\n\n\ntransition take foul\ndefense\n0\n0\n0\n0\n\n\ntransition take foul\nstars\n0\n0\n0\n0\n\n\ntransition take foul\nnonstars\n0\n0\n0\n0\n\n\ntraveling\noffense\n0\n0\n0\n0\n\n\ntraveling\ndefense\n4\n3\n3\n4\n\n\ntraveling\nstars\n0\n0\n0\n0\n\n\ntraveling\nnonstars\n0\n0\n0\n0\n\n\n\n\n\nOK so some of these POE don’t really have an offense/defense favorability but instead are related to a star player versus a regular Jalen. This would be the case for issues like respect for the game where examples are of a certain player making a potentially demonstrative gesture towards an official. For example, there was a play where Kevin Durant made a gesture towards an official that warranted a technical foul. In a similar example, it was Marcus Morris Sr. making a gesture towards an official.\nBut the large takeaway here for me is that there’s no appreciable difference in POEs over time towards or away from offense/defense. They seem to be mostly in line with what the POEs started with. So maybe the issue is that Monty is making reference to officials having previously mis-applied rules and he wants to demonstrate that in his examples? I have that information too."
  },
  {
    "objectID": "posts/2024-03-15-points-of-emphasis/index.html#emphasis-by-grade",
    "href": "posts/2024-03-15-points-of-emphasis/index.html#emphasis-by-grade",
    "title": "Post of Emphasis on: Points Of Emphasis",
    "section": "Emphasis by Grade",
    "text": "Emphasis by Grade\n\n\n\n\n\n\n\n\n\n\n\n\n\nemphasis\ngrade\n2023-09-23\n2023-12-04\n2024-01-19\n2024-02-26\n\n\n\n\nbench conduct\nCC\n4\n0\n2\n2\n\n\nbench conduct\nCNC\n3\n2\n0\n0\n\n\nbench conduct\nIC\n0\n0\n0\n0\n\n\nbench conduct\nINC\n0\n0\n0\n0\n\n\nflopping violation\nCC\n0\n1\n1\n2\n\n\nflopping violation\nCNC\n0\n0\n0\n0\n\n\nflopping violation\nIC\n0\n0\n0\n0\n\n\nflopping violation\nINC\n0\n1\n1\n1\n\n\nfreedom of movement - perimeter\nCC\n2\n2\n3\n3\n\n\nfreedom of movement - perimeter\nCNC\n0\n0\n0\n0\n\n\nfreedom of movement - perimeter\nIC\n0\n0\n0\n0\n\n\nfreedom of movement - perimeter\nINC\n1\n0\n0\n0\n\n\nfreedom of movement - post\nCC\n2\n1\n2\n3\n\n\nfreedom of movement - post\nCNC\n0\n0\n0\n0\n\n\nfreedom of movement - post\nIC\n0\n0\n0\n0\n\n\nfreedom of movement - post\nINC\n0\n1\n0\n0\n\n\nfreedom of movement - screens\nCC\n3\n3\n2\n3\n\n\nfreedom of movement - screens\nCNC\n0\n0\n0\n0\n\n\nfreedom of movement - screens\nIC\n0\n0\n0\n0\n\n\nfreedom of movement - screens\nINC\n1\n0\n1\n0\n\n\nnot a flopping violation\nCC\n0\n0\n0\n0\n\n\nnot a flopping violation\nCNC\n0\n2\n1\n0\n\n\nnot a flopping violation\nIC\n0\n0\n0\n0\n\n\nnot a flopping violation\nINC\n0\n0\n0\n0\n\n\nnot a transition take foul\nCC\n2\n1\n0\n1\n\n\nnot a transition take foul\nCNC\n0\n0\n0\n0\n\n\nnot a transition take foul\nIC\n0\n0\n0\n0\n\n\nnot a transition take foul\nINC\n0\n0\n0\n0\n\n\noffensive player veers off his path into defender\nCC\n1\n2\n2\n2\n\n\noffensive player veers off his path into defender\nCNC\n0\n0\n0\n0\n\n\noffensive player veers off his path into defender\nIC\n1\n0\n0\n0\n\n\noffensive player veers off his path into defender\nINC\n0\n0\n0\n0\n\n\noffensive player’s off-arm hooks the defender\nCC\n2\n1\n1\n2\n\n\noffensive player’s off-arm hooks the defender\nCNC\n0\n0\n0\n0\n\n\noffensive player’s off-arm hooks the defender\nIC\n0\n1\n0\n0\n\n\noffensive player’s off-arm hooks the defender\nINC\n0\n0\n0\n0\n\n\nrespect for the game\nCC\n1\n3\n2\n2\n\n\nrespect for the game\nCNC\n10\n8\n7\n10\n\n\nrespect for the game\nIC\n0\n0\n0\n0\n\n\nrespect for the game\nINC\n0\n0\n0\n0\n\n\nrip through/shooter launches away from basket\nCC\n3\n0\n2\n1\n\n\nrip through/shooter launches away from basket\nCNC\n0\n1\n1\n0\n\n\nrip through/shooter launches away from basket\nIC\n2\n0\n0\n0\n\n\nrip through/shooter launches away from basket\nINC\n0\n1\n0\n0\n\n\nshooter kicks out his leg at an abnormal angle\nCC\n1\n1\n1\n1\n\n\nshooter kicks out his leg at an abnormal angle\nCNC\n1\n0\n1\n1\n\n\nshooter kicks out his leg at an abnormal angle\nIC\n0\n0\n0\n0\n\n\nshooter kicks out his leg at an abnormal angle\nINC\n0\n1\n0\n1\n\n\nshooter launches/leans into defender at abnormal angle\nCC\n1\n2\n1\n1\n\n\nshooter launches/leans into defender at abnormal angle\nCNC\n1\n0\n0\n1\n\n\nshooter launches/leans into defender at abnormal angle\nIC\n0\n0\n0\n0\n\n\nshooter launches/leans into defender at abnormal angle\nINC\n0\n0\n0\n0\n\n\ntransition take foul\nCC\n2\n1\n2\n1\n\n\ntransition take foul\nCNC\n0\n0\n0\n0\n\n\ntransition take foul\nIC\n0\n0\n0\n0\n\n\ntransition take foul\nINC\n0\n0\n0\n0\n\n\ntraveling\nCC\n3\n2\n2\n3\n\n\ntraveling\nCNC\n0\n0\n0\n0\n\n\ntraveling\nIC\n0\n0\n0\n0\n\n\ntraveling\nINC\n1\n1\n1\n1\n\n\n\n\n\nEvery example can be broken down into the CC/CNC/IC/INC categories. And for the most part, they’re pretty consistent across time as well. Which largely conforms to what Ethan has been reporting from NBA personnel, nothing in the POEs demonstrate a stark change in how games are going to be officiated.\nVery interesting topic indeed.\nOK now here’s the raw data:"
  },
  {
    "objectID": "posts/2019-06-30-how-to-last-two-minutes/index.html",
    "href": "posts/2019-06-30-how-to-last-two-minutes/index.html",
    "title": "How To Extract The Last Two Minute Reports",
    "section": "",
    "text": "The NBA’s Last Two Minute (L2M) reports are intended to be a transparent analysis of referee performance at the end of close NBA games. Having started on March 1st of 2015, they have been publicly available on the official.nba.com section of the NBA’s website. Being publicly available is not the same thing as easily accessible or user friendly. These reports are scattered across their website (with a few games hidden) and in PDF format for the majority of games. The NBA did make a major improvement after the 2019 NBA All-Star game in switching away from PDF format for the reports to a web-based format, however all of the pre-2019 All-Star game L2Ms remain in PDF format.\nThe actual structure of the underlying data in L2Ms is consistent. Each event is a graded action in a play. The action will contain the period of action, time remaining, call (foul, turnover, violation, etc), type of call (shooting foul, personal foul, etc.), committing player, disadvantaged player, decision, and comment of the action. Sometimes there is no disadvantaged or committing player due to the nature of a play, but the intended structure should lend itself to be nicely formatted after all of the information is extracted.\nAll of the code for extracting can be found in my L2M GitHub repository, but this small tutorial is to show how I used R in order to download, parse, and tidy up the L2M data.\n\nDownloading L2Ms\nThere are three main sections of the official.nba.com website where L2Ms reside:\n\nArchived for games from March 1st, 2015 through the 2017 NBA Finals.\n2017-18 for games in the 2017-18 NBA Season.\n2018-19 for games in the 2018-19 NBA Season.\n\nAs a guess, there will likely be a corresponding 2019-20 section of the website where they will put the next season’s games, but as of right now it returns a 404 error.\nDownloading the L2M reports requires the httr and rvest packages as well as the tidyverse for ease of use. But with the 2018-19 season as an example, we can determine all of the urls for the L2Ms by scraping that section of the site and searching for the nodes which contain games:\nlibrary(\"httr\")\nlibrary(\"rvest\")\nlibrary(\"tidyverse\")\n\nurl &lt;- paste0(\"https://official.nba.com/\",\n              \"2018-19-nba-officiating-last-two-minute-reports/\")\n\n# read in url from above, then extract the links that comply with:\nlinks &lt;- read_html(url) %&gt;% \n  html_nodes(\"#main a+ a , strong+ a\") %&gt;%\n  html_attr(\"href\")\n\ntail(links)\n## [1] \"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-MIL-CHA-10-17-2018.pdf\"  \n## [2] \"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-BKN-DET-10-17-2018-1.pdf\"\n## [3] \"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-MIA-ORL-10-17-2018.pdf\"  \n## [4] \"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-MIN-SAS-10-17-2018.pdf\"  \n## [5] \"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-DEN-LAC-10-17-2018.pdf\"  \n## [6] \"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-OKC-GSW-10-16-2018.pdf\"\nThe resulting object of urls contains 457 games. Most of these are of PDF format, however as previously mentioned some of these links are web pages and not PDFs:\ntable(tools::file_ext(links))\n## \n##     pdf \n## 170 287\nWe want to separate these two types of links because they require different ways to parse the L2M data for analysis. The PDFs are straight-forward, we simply want to download each of the 287 PDFs into a folder to be parsed later:\n# Create a directory for the data\nlocal_dir     &lt;- \"0-data/L2M/2018-19\"\ndata_source   &lt;- paste0(local_dir, \"/raw\")\nif (!file.exists(local_dir)) dir.create(local_dir, recursive = T)\nif (!file.exists(data_source)) dir.create(data_source, recursive = T)\n\n# Subset only the \nlinks_pdf &lt;- links[grepl(pattern = \"*.pdf\", links)]\n\nfiles  &lt;- paste(data_source, basename(links_pdf), sep = \"/\")\n\n# For each url and file, check to see if it exists then try to download.\n#  need to keep a record of those which fail with a 404 error\n\npdf_games &lt;- map(links_pdf,  function(x) {\n  file_x &lt;- paste(data_source, basename(x), sep = \"/\")\n  if (!file.exists(file_x)) {\n    Sys.sleep(runif(1, 3, 5))\n    tryCatch(download.file(x, file_x, method = \"libcurl\"),\n             warning = function(w) {\n               \"bad\"\n             })\n  } else \"exists\"\n})\nFor the non-PDF links, this becomes a bit more complex. Take for example the last game of the 2018-19 NBA Season’s url: https://official.nba.com/l2m/L2MReport.html?gameId=0041800406\nWe can see that the structure of the L2M is consistent in that each graded action has the required elements of period, time remaining, etc. Ideally, we would want to read the website with read_html() and then simply read in the resulting table with html_table(). This method does not work because the web page is rendered with JavaScript:\nlinks[1] %&gt;% \n  read_html() %&gt;% \n  html_table()\n## [[1]]\n## [1] Period               Time                 Call Type           \n## [4] Committing Player    Disadvantaged Player Review Decision     \n## [7] Video               \n## &lt;0 rows&gt; (or 0-length row.names)\nIn order to correct for this, we need a service which will read in the full page after the JavaScript has been rendered. This is where the splashr package comes in handy as it will allow for the webpage to first load all of the JavaScript (and resulting table of information) that we can then scrape. You will need to have splashr installed and properly set-up, likely with a Docker container running in the background. Once you have this, we can read in the url properly after waiting a few seconds for the web page to render (ie set wait = 7 for a 7 second delay) then read in the resulting html table:\nlibrary(\"splashr\")\n\nsplash_active() # This needs to be TRUE to work...\n## [1] TRUE\nl2m_raw &lt;- render_html(url = links[1], wait = 7)\n\nl2m_site &lt;- l2m_raw  %&gt;% \n  html_table(fill = T) %&gt;% \n  .[[1]]\nglimpse(tail(l2m_site))\n## Observations: 6\n## Variables: 8\n## $ Period                 &lt;chr&gt; \"Period: Q4\", \"Comment:\", \"Period: Q4\", \"…\n## $ Time                   &lt;chr&gt; \"Time: 00:02.1\", \"Leonard (TOR) dives for…\n## $ `Call Type`            &lt;chr&gt; \"Call Type:  Foul: Loose Ball\", \"Leonard …\n## $ `Committing Player`    &lt;chr&gt; \"Committing Player: Kawhi Leonard\", \"Leon…\n## $ `Disadvantaged Player` &lt;chr&gt; \"Disadvantaged Player: Draymond Green\", \"…\n## $ `Review Decision`      &lt;chr&gt; \"Review Decision: CNC\", \"Leonard (TOR) di…\n## $ Video                  &lt;chr&gt; \"Video Url: Video\", \"Leonard (TOR) dives …\n## $ NA                     &lt;lgl&gt; NA, NA, NA, NA, NA, NA\nSuccess! Now with a little bit of tedious adjustments to the resulting data, we can gather up the resulting variables for each action into a consistent format. The gritty details can be found in 0-data/0-L2M-download-2018-19.R.\n\n\nParsing PDFs\nNow back to the PDFs that we stored away for later, although we’ll just use the first one from the 2018-19 Season. We need a package that can extract the text information in each PDF to then extract the relevant variables. The pdftools package allows for the reading of text from each page of a PDF, at which point we will need some understanding of the approximate format of each page:\nlibrary(\"pdftools\")\nraw_text &lt;- pdftools::pdf_text(\"https://ak-static.cms.nba.com/wp-content/uploads/sites/4/2018/10/L2M-OKC-GSW-10-16-2018.pdf\")\nlength(raw_text)\n## [1] 2\nraw_text[[1]]\n## [1] \"Below is the league's assessment of officiated events that occurred in the last two minutes of last night's games that were at or within three points during any point in the last two-minutes of\\nthe fourth quarter (and overtime, where applicable). The plays assessed include all calls (whistles) and notable non-calls. Notable non-calls will generally be defined as material plays directly\\nrelated to the outcome of a possession. Similar to our instant replay standards, there must be clear and conclusive video evidence in order to make a determination that a play was incorrectly\\nofficiated. Events that are indirectly related to the outcome of a possession (e.g., a non-call on contact away from the play) and/or plays that are only observable with the help of a stop-watch,\\nzoom or other technical support, are noted in brackets along with the explanatory comments but are not deemed to be incorrectly officiated. The league may change its view after further\\nreview. If you have any questions, please contact the NBA here.\\n                                                                       Thunder (100) @ Warriors (108) October 16, 2018\\n       Period         Time                          Call Type                              Committing Player                           Disadvantaged Player     Review Decision\\n                   02:03.1                          01:57.7\\n                   02:03.1     To    01:57.7\\n       Q4           01:57.8                      Foul: Personal                                 Kevin Durant                               Steven Adams                  CC\\nComment:            Durant (GSW) dislodges Adams (OKC) from his post position during the pass.\\n                   01:57.7                          01:46.0\\n                   01:57.7     To    01:46.0\\n       Q4           01:49.5                      Foul: Offensive                               Kevon Looney                               Dennis Schroder               CNC\\nComment:            Looney (GSW) establishes a legal picking position in Schröder's (OKC) path before the contact.\\n       Q4           01:46.9                      Foul: Shooting                               Dennis Schroder                               Stephen Curry                CC\\nComment:            Schröder (OKC) trails Curry (GSW) and makes contact with his body during his shooting motion.\\n                   01:46.0                                                     01:27.8\\n                   01:46.0     To    01:27.8\\n       Q4           01:44.0                     Foul: Personal                                Kevin Durant                                 Paul George                  CNC\\nComment:            Durant (GSW) obtains a legal defensive position before George (OKC) initiates contact. The players briefly engage and separate.\\n       Q4           01:37.4                     Foul: Offensive                               Steven Adams                                 Kevin Durant                 CNC\\nComment:            Adams (OKC) is already in Durant's (GSW) path when he and Looney (GSW) move forward slightly. Adams does not deliver or\\n                    extend into Durant's path.\\n       Q4           01:32.1                      Foul: Personal                              Stephen Curry                               Terrance Ferguson              CNC\\nComment:            Curry (GSW) is in a legal guarding position as he moves along Ferguson's (OKC) path during the drive to the basket and any\\n                    contact is incidental.\\n       Q4           01:28.9                      Foul: Shooting                              Draymond Green                               Steven Adams                  CNC\\nComment:            Green (GSW) makes incidental \\\"high-five\\\" contact with Adams (OKC) after the release of his shot attempt in the lane.\\n                   01:27.8                                                           01:06.4\\n                   01:27.8     To    01:06.4\\n       Q4           01:16.0                       Foul: Personal                             Dennis Schroder                               Stephen Curry                CNC\\nComment:            Schröder (OKC) briefly places two hands on Curry (GSW) off ball without affecting his SQBR.\\n       Q4           01:15.4                      Foul: Personal                              Terrance Ferguson                             Kevin Durant                 CNC\\nComment:            LHH shows that Durant (GSW) loses control of the ball on his own, after which Ferguson (OKC) makes contact with the ball and\\n                    makes incidental contact with Durant as they try to retrieve it.\\n       Q4           01:15.4                   Turnover: Traveling                              Kevin Durant                                                             CNC\\nComment:            LHH shows that Ferguson (OKC) makes contact with the ball and Durant (GSW) regains control and continues his dribble.\\n       Q4           01:15.0                     Foul: Offensive                                Kevon Looney                                  Paul George                CNC\\nComment:            Looney (GSW) is in Durant's (GSW) path before the contact on the hand-off. While he is turned, he has already established\\n                    himself in Durant's path and absorbs the contact when it occurs.\\n       Q4           01:07.5                      Foul: Shooting                               Jerami Grant                                  Kevon Looney                CNC\\nComment:            RLS shows that Grant (OKC) obtains a vertical position and absorbs contact from Looney (GSW) on the play at the basket. Since\\n                    the play originates inside the lower defensive box (the area between the 3' posted-up marks, the bottom tip of the circle and the\\n                    endline), Grant can be on the floor in the restricted area when the contact occurs.\\n                                                                                                                                                                                          1\\n\"\nEach L2M has the same type of disclaimer and description at the beginning. It is always something to the effect of explaining that they grade calls although the literal description does change. This is not important to us, what we firstly need to find in the text is where the game details occur for each page. The game details are where the two teams are mentioned and the date. For this report, it is “Thunder (100) @ Warriors (108) October 16, 2018” that starts the relevant information. At the other end of the spectrum, we need to find out where the page ends. This particular L2M has two pages and the second page ends with a description of “Event Assessments” while the first page simply ends with a “1” to indicate it is the first page. So if “Event Assessments” is not present on the page, we know it will end with a page number. We want to find the beginning and end of the relevant information of each line and only keep those lines:\ntemp &lt;- raw_text[[1]] %&gt;% \n  str_split(\"\\n\") %&gt;% \n  unlist() %&gt;% \n  str_trim()\n\n# Each report will start off with the two teams and an @ symbol\n#  I don't think there's any other @s in a pdf\nbegin &lt;- grep(\"@\", temp)\n# in case of another \"@\" instance just take the first\nif (length(begin) &gt; 1) {\n  begin &lt;- begin[1]\n  game_details = temp[begin]\n  } else if (length(begin) == 1) {\n    game_details = temp[begin]\n    # But if it doesn't exist, then it's a secondary page so set to 1\n    } else if (length(begin) == 0) { \n      begin = 1\n      game_details = NA\n    }\n\n# Each report finishes with a footer that describes the event assessments\ndone  &lt;- grep(\"Event Assessments\", temp)\n# But there might not be any pages where this ends\nif (length(done) == 0) {\n  done = length(temp) + 1\n  }\n\ntemp_info &lt;- temp[(begin):(done - 1)]\nhead(temp_info)\n## [1] \"Thunder (100) @ Warriors (108) October 16, 2018\"                                                                                                                         \n## [2] \"Period         Time                          Call Type                              Committing Player                           Disadvantaged Player     Review Decision\"\n## [3] \"02:03.1                          01:57.7\"                                                                                                                                \n## [4] \"02:03.1     To    01:57.7\"                                                                                                                                               \n## [5] \"Q4           01:57.8                      Foul: Personal                                 Kevin Durant                               Steven Adams                  CC\"    \n## [6] \"Comment:            Durant (GSW) dislodges Adams (OKC) from his post position during the pass.\"\nWe now have each line after the beginning read in. At this point, we need to determine which lines contain information about a play. Each play begins with a period and then time. We need to find each line with a mention of a period and subset that information to be read in as a play:\n# Does the line contain a quarter reference? Then it's probably a play\nplays &lt;- temp_info[c(grep(\"^Period\", temp_info),\n                     grep(\"^Q\", temp_info))]\n\nplay_data &lt;- read_table(plays, col_names = FALSE,\n                        col_types = cols(.default = \"c\"))\n\nglimpse(play_data)\n## Observations: 13\n## Variables: 7\n## $ X1 &lt;chr&gt; \"Period\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4…\n## $ X2 &lt;chr&gt; \"Time\", \"01:57.8\", \"01:49.5\", \"01:46.9\", \"01:44.0\", \"01:37.4\"…\n## $ X3 &lt;chr&gt; \"Call Type\", \"Foul: Personal\", \"Foul: Offensive\", \"Foul: Shoo…\n## $ X4 &lt;chr&gt; \"Committing Player\", \"Kevin Durant\", \"Kevon Looney\", \"Dennis …\n## $ X5 &lt;chr&gt; \"Disadvantaged Player\", \"Steven Adams\", \"Dennis Schroder\", \"S…\n## $ X6 &lt;chr&gt; \"Review\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"\n## $ X7 &lt;chr&gt; \"Decision\", \"CC\", \"CNC\", \"CC\", \"CNC\", \"CNC\", \"CNC\", \"CNC\", \"C…\nWe are fortunate for this particular PDF that there are only 7 columns of data because the adjustment for the resulting data.frame is to simply rename the columns and combine the last two columns:\nnames(play_data) &lt;- c(\"period\", \"time\", \"call_type\", \"committing\",\n                      \"disadvantaged\", \"decision\", \"decision2\")\nplay_data &lt;- play_data %&gt;% \n  mutate(decision = ifelse(is.na(decision) | decision == \"\",\n                           decision2, decision)) %&gt;% \n  select(period, time, call_type, committing, disadvantaged, decision)\nglimpse(play_data)\n## Observations: 13\n## Variables: 6\n## $ period        &lt;chr&gt; \"Period\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\"…\n## $ time          &lt;chr&gt; \"Time\", \"01:57.8\", \"01:49.5\", \"01:46.9\", \"01:44.0\"…\n## $ call_type     &lt;chr&gt; \"Call Type\", \"Foul: Personal\", \"Foul: Offensive\", …\n## $ committing    &lt;chr&gt; \"Committing Player\", \"Kevin Durant\", \"Kevon Looney…\n## $ disadvantaged &lt;chr&gt; \"Disadvantaged Player\", \"Steven Adams\", \"Dennis Sc…\n## $ decision      &lt;chr&gt; \"Review\", \"CC\", \"CNC\", \"CC\", \"CNC\", \"CNC\", \"CNC\", …\nThe only thing missing for the data now are the comments. In the PDFs, comments are below the play action and thus we need to extract each of these lines individually then add them as a separate column to the play_data:\ntemp_com &lt;- str_remove(temp_info[grep(\"^Comment\", temp_info)], \"Comment:\")\ncomment  &lt;- data.frame(comments = str_trim(temp_com))\n# add in an NA comment to account for the header\ncomments &lt;- bind_rows(data.frame(comments = NA), comment)\n\nresults &lt;- bind_cols(play_data, comments)\nglimpse(results)\n## Observations: 13\n## Variables: 7\n## $ period        &lt;chr&gt; \"Period\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\", \"Q4\"…\n## $ time          &lt;chr&gt; \"Time\", \"01:57.8\", \"01:49.5\", \"01:46.9\", \"01:44.0\"…\n## $ call_type     &lt;chr&gt; \"Call Type\", \"Foul: Personal\", \"Foul: Offensive\", …\n## $ committing    &lt;chr&gt; \"Committing Player\", \"Kevin Durant\", \"Kevon Looney…\n## $ disadvantaged &lt;chr&gt; \"Disadvantaged Player\", \"Steven Adams\", \"Dennis Sc…\n## $ decision      &lt;chr&gt; \"Review\", \"CC\", \"CNC\", \"CC\", \"CNC\", \"CNC\", \"CNC\", …\n## $ comments      &lt;fct&gt; NA, \"Durant (GSW) dislodges Adams (OKC) from his p…\nWe now have enough comments to match he play data and have completed extracting the relevant information from a page in a PDF. This was a relatively straight-forward page and how one would hope the PDFs are all structured. Unfortunately, not all pages in PDfs are this simple and you can see all the gory hacks that have needed to parse through all of the PDFs for just the 2018-19 NBA Season in the 0-data/0-L2M-pdftools-2018-19.R file."
  },
  {
    "objectID": "posts/2018-03-10-nba-financials-2016-17/index.html",
    "href": "posts/2018-03-10-nba-financials-2016-17/index.html",
    "title": "Backing Out 2016-17 NBA Financials",
    "section": "",
    "text": "As I was casually looking through and viewing the panels and videos of the Sloan Sports Analytics Conference the other weekend, I realized a common theme for the 2018 Conference to the previous ones. For the NBA, there were plenty of applications of analytics1 to player evaluations, injuries, in-game strategies, and ticket pricing. All of these topics were present in 2018 as they have been throughout the conference’s lifetime. However, there was only limited discussion of the NBA’s Salary Cap and any analytical applications applied to the Salary Cap was non-existent.1 I use the term analytics liberally here as there were panelists invoking “the eye test” in their discussions. Why has this become a phrase? It’s just someone talking out of their ass.\nPanelists certainly know about the Salary Cap as this was brought up in at least 2 panels. Steve Ballmer made comments on his front office’s analytics at around the 31 minute mark. He had an interesting tidbit on the Salary Cap where he effectively thinks of it in a game theoretic context:\n\nOne actually that has become most interesting to me is salary cap planning. It’s most fundamental to the product. It’s not as statistical and involved but it’s like a big chess game: Where do you want to have powder? How do you use the powder? Will you be successful at taking the risks that you want to take? I find it a very interesting numeric chess game, if you will, and there are teams that absolutely do it better and do it worse. I see Darrell sitting in the front row, we made a trade: Chris Paul for a number of guys back for Houston. I thought they did something very clever in having a whole set of non-guaranteed contracts that really gave him more flexibility in putting the deal together with us than they would have had otherwise. But that is kind of numeric, strategic chess game like planning that I think is an important part of let me call it the numeric exercise as opposed to what people think about is classic analytics.\n\nAnd in the penultimate presentation, Sam Hinkie also touched on the Salary Cap at around the 20 minute mark through about the 23 minute mark with the same analogy of treating cap space like powder2 but offered little insight beyond how to utilize the cap space. Neither of these panels discussed the possibility of using analytics to better predict the Salary Cap. It is hard to determine if this is because no one is engaged in this form of analytics or if they simply do not want to tip their hand and give others an edge on this topic.2 When I hear people use the same analogy to describe a topic, I assume this is because the people learned the topic in the same manner – ie had the same teacher or read the same book.\nWhatever the reason is, it dawned on me that I have yet to see anyone publish key components to the Salary Cap from the 2016-17 NBA Season. Larry Coon used to keep track of certain financial values in his CBAFAQ for the 2011 CBA, but has yet to do so for the 2017 CBA. Albert Nahmad over at HeatHoops.com has also tracked financial components for the NBA and even discussed the NBA’s 2016-17 Salary Cap projections last year. But Albert’s last update for NBA financials was in June of 2017 a few weeks before the Salary Cap was officially set.\nLet me provide some of the important figures for the NBA’s finances in the 2016-17 Season. However, I will not just give the values but I will provide a description for how I came to these values as a way to “show my work” and as an educational exercise for others interested in the Salary Cap.\n\n\nRevenues Side\nLet’s start with what we know: the NBA set the Salary Cap for 2017-18 Season at $99,093,000 and the Luxury Tax at $119,266,000. That allows us to know pretty close to what the BRI for 2016-17 is and lets us know exactly what Projected BRI is. To get to these values, we need to define how the Salary Cap is set:\n\\[\n{SC}_t = \\frac{0.4474*\\text{Projected BRI}_t - \\text{Projected Benefits}_t}{\\text{\\# of teams (30)}} + \\frac{\\text{Adjustment}_t}{\\text{\\# of teams (30)}}\n\\]\nWhere I will eventually get to defining what goes into Projected BRI, Projected Benefits, and Adjustment throughout this article. As of right now, all three of those components are unknown to us but can and will be determined. The Luxury Tax is set in the same fashion, except the factor multiplied by Projected BRI is 53.51% instead of 44.74%:\n\\[\n{LC}_t = \\frac{0.5351*\\text{Projected BRI}_t - \\text{Projected Benefits}_t}{\\text{\\# of teams (30)}} + \\frac{\\text{Adjustment}_t}{\\text{\\# of teams (30)}}\n\\]\nThis leaves us with 2 equations and 3 unknowns: Projected BRI, Projected Benefits, and the Adjustment. We can subtract the Salary Cap from the Luxury Tax and do some algebra to redefine Projected BRI as:\n\\[\n\\text{Projected BRI}_t = \\frac{\\text{\\# of teams (30)}}{(0.5351 - 0.4474)}*(LT_t - SC_t) = \\frac{\\text{\\# of teams (30)}}{(0.0877)}*(LT_t - SC_t)\n\\]\nWe have eliminated one equation and two of the unknowns. Now we are left with one equation and one unknown which becomes a plug-n-chug to figure out that the Projected BRI used in the 2017-18 Salary Cap calculation is $6,900,684,151. We can use Projected BRI as well as the NBA’s TV contract to back out what actual BRI was for 2016-17. This comes from the definition of Projected BRI in the CBA VII 7.2.c where the known value of the National TV payout for the year of interest is added to 1.045 times the non-TV portion of BRI for the previous year. Or in other words, BRI is split into the TV and non-TV portion for every year. The TV portion is known in advance due to the nature of the contract having a specific yearly payout. However, the non-TV portion of BRI covers revenue sources that are variable and not well known for the future. Because of the variable nature, the NBA will simply project forward a 4.5% increase in this amount for the Projected BRI:\n\\[\n\\displaylines{\n\\text{Projected BRI}_t = TV_t + 1.045*\\text{non-TV BRI}_{t-1} \\\\\n\\text{Projected BRI}_t = TV_t + 1.045*({BRI}_{t-1} - {TV}_{t-1})\n}\n\\]\nAnd doing a bit more arithmetic gymnastics, we can write BRI as a function of Projected BRI and TV revenues:\n\\[\n{BRI}_{t-1} = \\frac{\\text{Projected BRI}_t - TV_t}{1.045} + {TV}_{t-1}\n\\]\nOr in other words, the 2016-17 BRI is a function of the Projected BRI in 2017-18 and the TV values of 2017-18 and 2016-17. We know projected BRI here, thus to get BRI in 2016-17 we need to inject what the National TV deal values are. Larry Coon reported a value of $2.1 billion for the 2016-17 season in an insiders article that was confirmed by Zach Lowe. I took a educated guess of the 2017-18 value as $2.225 billion based on Zach Lowe’s description of the payouts for the national TV contract. Plugging these values in gives us an estimate of BRI for 2016-17 of $6,574,338,900.\nThat’s what we’re going with for 2016-17 BRI: $6,574,338,900 with $2.1 billion representing the TV contract and $4,474,338,900 in non-TV BRI. But keep in mind, this is an educated guess because we don’t know exactly what the national TV deal values are. If we did, then we’d have complete certainty on this value.\n\n\nCosts Side\nAt this point, we have a good guess at how the revenues in 2016-17 went for the NBA. We need to go into the cost side of things to get a full picture for the trends in the NBA Salary Cap. Since we already know Projected BRI for 2017-18, we can actually back out what the Projected Benefits less the Adjustment (also known as the shortfall) were. Doing some plug-n-chug from the Salary Cap equation gives us a value of $114,576,089 for Projected Benefits less the Adjustment for 2017-18. We’ll get to how the adjustment is calculated in a second.\nProjected Benefits are defined within the CBA IV-9 and are effectively an increase of 4.5% from the previous year’s Benefits plus an additional amount equal to 1% of Projected BRI. The previous year’s Benefits for this calculation exclude the 1% of BRI which gets added on and I term this Residual Benefits – which are Benefits less 1% of the BRI for that year. This can be summarized as follows:\n\\[\n\\text{Projected Benefits}_t = 0.01*\\text{Projected BRI}_t + 1.045*\\text{Residual Benefits}_{t-1}\n\\]\nAlthough another way to define Projected Benefits would be:\n\\[\n\\text{Projected Benefits}_t = 0.01*\\text{Projected BRI}_t + 1.045*(\\text{Benefits}_{t-1} - 0.01*{BRI}_{t-1})\n\\]\nIn trying to back out the Projected Benefits used for the 2017-18 Salary Cap, we need to know Projected BRI of 2017-18 (got it), Benefits in 2016-17 (missing), and BRI in 2016-17 (got it). Almost there! We have two unknowns in this equation. Even though we know that Projected Benefits less Adjustment is $114,576,089 we don’t know the Adjustment. We’re going to have to go about this a different way.\nIn the 2015-16 season, the value of Benefits less the Adjustment ended up being $105,593,330. Per Larry Coon, the players received a total amount of Salaries and Benefits of $2,558,000,000 and of that amount, $2,346,000,000 was Salaries and $212,000,000 was Benefits. The players were short-changed $130.5 million in their Guaranteed BRI amount – ie the shortfall – as the players were guaranteed to receive $2,688,495,000 (50.83% of BRI) and yet their total Salaries and Benefits only made up $2,558,000,000. The $130.5 million shortfall was added onto the Salary Cap for the 2016-17 Season which increased the Salary Cap by $4.35 million.\nFor the 2016-17 Season, we know that the BRI was $6,574,338,900 and the Forecasted BRI was $5,089,000,000. The players are guaranteed between 49% and 51% of BRI where the difference is a result of the actual BRI and Forecasted BRI. For each dollar over (or under) the Forecasted BRI, 60.5% is added (subtracted) to the guaranteed share. Per CBAFAQ:\n\nCollectively, the players are guaranteed to receive 50% of forecasted revenues, plus (or minus) 60.5% of the amount by which revenues exceed (or fall short of) the forecasts, with a lower limit of 49% of BRI and an upper limit of 51% of BRI.\n\nForecasted BRI in 2016-17 was $5.089 billion – the 50% limit was $2.5445 billion. We already determined that the BRI in 2016-17 was $6.574 billion. Actual BRI exceeded Forecasted BRI by $1,485,338,900. The 60.5% amount of the excess would be $898,630,035 to be added onto the guaranteed percentage to give a total of $3,443,130,035 in Guaranteed BRI. Except this amount exceeds the 51% limit. The players were guaranteed a total of $3,352,912,839 in Salaries and Benefits for the 2016-17 Season.\nNow we have another equation we can introduce in order to get to Projected Benefits and the Adjustment. When the NBA fails to pay out collectively in Salaries and Benefits the guaranteed amount, a check is cut to the NBPA for the Adjustment amount and the Adjustment (divided by the number of teams) is then added onto the Salary Cap and Luxury Tax. Using this knowledge, we know that this relationship must hold:\n\\[\n\\text{Guaranteed BRI}_t = \\text{Adjustment}_t + \\text{Salaries}_t + \\text{Benefits}_t\n\\]\nWe just figured out the Guaranteed BRI amount but still don’t know what the Actual Benefits and Adjustment are. But we can estimate the Salaries paid out for the 2016-17 Season were to put this together.\nSpotrac’s value3 of money spent for the 2016-17 Season was $2,962,716,058. In comparison, his 2015-16 value was $2,374,265,169 and Larry Coon reported $2.346 billion in his CBAFAQ. That’s good enough for government work.3 While I do not condone listing Spotrac as a primary source, they actually do a good job of compiling salary data. Spotrac gathers their data from some combination of Mark Deeks, Bobby Marks, and Eric Pincus.\nWe know Guaranteed BRI less Salaries (per Spotrac) in 2016-17 is $390,196,781. That’s another way of saying that Benefits plus Adjustment is $390,196,781. Now we can go way back to a relationship of:\n\\[\n\\text{Projected Benefits}_t = 0.01*\\text{Projected BRI}_t + 1.045*(\\text{Benefits}_{t-1} - 0.01*BRI_{t-1})\n\\]\nNow we subtract the Adjustment from each side and realize we already figured out that the Projected Benefits less Adjustment is equal to $114,576,089:\n\\[\n\\$114,576,089 = 0.01*\\text{Projected BRI}_{2017} + 1.045*(\\text{Benefits}_{2016} - 0.01*{BRI}_{2016}) - {Adjustment}_{2017}\n\\]\nGoing to start adding in some more values, but also keep in mind that $6,900,684,151 is our Projected BRI amount:\n\\[\n\\displaylines{\n\\\\ \\$114,576,089 = \\$69,006,842 + 1.045*({Benefits}_{2016} - \\$52,890,000) - {Adjustment}_{2017}\n\\\\ \\$114,576,089 = \\$69,006,842 - \\$55,270,050 + 1.045*{Benefits}_{2016} - {Adjustment}_{2017}\n\\\\ \\$100,839,297 = 1.045*{Benefits}_{2016} - {Adjustment}_{2017}\n}\n\\]\nPer the Larry Coon values, the Benefits in the 2015-16 Season were $212,000,000, which will give us:\n\\[\n{Adjustment}_{2017} = 1.045*{Benefits}_{2016} - \\$100,839,297 = \\$221,540,000 - \\$100,839,297\n\\]\nGiving us an adjustment value of $120,700,703. Which implies that the NBA Salary Cap was increased by approximately $4 million due to not paying the players enough in the form of Salaries and Benefits.\nOur last bit of arithmetic is then to back out the Benefits for the 2016-17 Season based on our derived value of the Adjustment. This gives us $269,496,078 in Benefits paid out by the NBA."
  },
  {
    "objectID": "posts/2017-04-30-welcome/index.html",
    "href": "posts/2017-04-30-welcome/index.html",
    "title": "Welcome",
    "section": "",
    "text": "This site is meant to host various information related to the NBA’s Collective Bargaining Agreement (CBA), its Last 2 Minute Reports (L2M), the economics of the NBA, and possibly the Atlanta Hawks. If you are looking for opinionated content, then you will be disappointed by this site. My goal is to explain issues within the NBA, disperse information, and provide insight that may not be available elsewhere. Hopefully, you can gain a bit of knowledge from some aspect of this site.\nThis is the second iteration of the website, although you aren’t missing much from the first as everything is reproduced here. I’ve even kept the original publish date for this portion blog post (2017-04-30) even though it’s nearly 6 years later. It is still a tad unclear as to what information will populate this site and how it will be structured. But this will certainly be a website.\nEnjoy."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This site’s purpose is to provide various information related to the NBA’s Collective Bargaining Agreement (CBA), its Last 2 Minute Reports (L2M), the economics of the NBA, and possibly the Atlanta Hawks. If you are looking for opinionated content or hot takes, then you will be disappointed by this site. My goal is to explain issues within the NBA, disperse information, and provide insight that may not be available elsewhere. Hopefully, you can gain a bit of knowledge from some aspect of this site.\nFor those curious about the “fanatic” portion of the atlhawksfanatic moniker: It comes from an old program I used to participate in during the early 2000s for Atlanta Hawks home games. The program was first called the Fanatical Fans Section but it eventually morphed into the Hawk-a-Licious Fan Section and then, poof….gone before the end of the 2004-05 NBA season and never spoken of by the organization again.\nThe organization created a similar program that they titled the 6th Man Section around 2011. But the original group was called the Fanatical Fans.\nAnd that is where the the name comes from. It’s not a reference from how intense of a fan of the organization I am/was but an homage to being a fan during quite possibly the worst time to be an Atlanta Hawks fan.\n\n\n\nShirt from Fanatical Fan Section"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "hello there.",
    "section": "",
    "text": "This site’s purpose is to provide various information related to the NBA’s Collective Bargaining Agreement (CBA), its Last 2 Minute Reports (L2M), the economics of the NBA, and possibly the Atlanta Hawks. If you are looking for opinionated content or hot takes, then you will be disappointed by this site. My goal is to explain issues within the NBA, disperse information, and provide insight that may not be available elsewhere. Hopefully, you can gain a bit of knowledge from some aspect of this site.\nThis is the second iteration of the website, although you aren’t missing much from the first as everything is reproduced here. It is still a tad unclear as to what information will populate this site and how it will be structured. But this will certainly be a website.\nEnjoy.\n\n\n\n\n\n\n\n\n  \n\n\n\n\nPost of Emphasis on: Points Of Emphasis\n\n\n\n\n\n\n\n\n\n\n\n\nMar 15, 2024\n\n\nrobert\n\n\n\n\n\n\n  \n\n\n\n\nBird Rights Aren’t Real\n\n\n\n\n\n\n\n\n\n\n\n\nOct 29, 2023\n\n\nrobert\n\n\n\n\n\n\n  \n\n\n\n\nHow To Extract The Last Two Minute Reports\n\n\n\n\n\n\n\n\n\n\n\n\nJun 30, 2019\n\n\nRobert\n\n\n\n\n\n\n  \n\n\n\n\nUpdating The Last Two Minute Reports\n\n\n\n\n\n\n\n\n\n\n\n\nJun 23, 2019\n\n\nRobert\n\n\n\n\n\n\n  \n\n\n\n\nBacking Out 2016-17 NBA Financials\n\n\n\n\n\n\n\n\n\n\n\n\nMar 10, 2018\n\n\nrobert\n\n\n\n\n\n\n  \n\n\n\n\nCBA About\n\n\n\n\n\n\n\n\n\n\n\n\nMay 4, 2017\n\n\nrobert\n\n\n\n\n\n\n  \n\n\n\n\nWelcome\n\n\n\n\n\n\n\n\n\n\n\n\nApr 30, 2017\n\n\nrobert\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2017-05-04-cba-about/index.html",
    "href": "posts/2017-05-04-cba-about/index.html",
    "title": "CBA About",
    "section": "",
    "text": "If you’re interested in reading the NBA’s Collective Bargaining Agreement (CBA), then go to here immediately. If not, continue reading.\nThe NBA’s CBA is a 598 page legal document that details the labor practices between the NBA and its players. Not only is it a lengthy document, but one that is complicated by an immense amount of self-referencing. Almost every portion of the document references some other section, which can get fairly complex if you cannot remember what the referenced section pertains to.\nIts structure is supposed to follow a syntax,1 but it turns out that it this is not consistent. The obvious culprits are Microsoft Word and whoever wrote up the relevant sections in the incorrect version of Word. This ends up leading to typos within the document when they attempt to reference sections which have inconsistent numbering.1 An article is referenced as a roman numeral and is the starting point of each relevant topic. Next, is a section which is numerically ordered (1, 2, 3, …) and is a subtopic within each article that goes in alphabetical order (a, b, c, … aa, bb, cc, …). But this is where the structure becomes muddied. For most parts of the CBA, the 3rd section under the article is ordered through a lower case roman numeral fashion (i, ii, iii, iv, …). This is not at all consistent as the first diversion from this structure is in Article 4, Section 1, (a) Benefits. The ordering is then in numeric order (1, 2, 3…). This is subsequently violated many times.\n\nRegardless of this problem, the pdf which the NBPA provides is inadequate. One cannot easily flip through the document because there are no bookmarks or structure.\nThis pissed me off.\nSo I decided to use bookdown to recreate the CBA as-is. I maintain all of the text within the CBA but break apart the document by article and section. Any reference within the CBA (and its possible typo) is maintained.\nThe main output is an html output at atlhawksfanatic.github.io/NBA-CBA/ and has an unfortunate glitch that articles are numeric instead of roman numerals. But aside from that, the website contains a search feature at the top as to make it easier to find a particular topic within the CBA. I know that’s been useful to me lately.\n\nBeyond this, the website does contain a pdf and epub version of the CBA. They are slightly hidden in the webpage. If you look at the top, there’s a download icon that you can click. Once you do that, then you can download either formats. And both of those formats maintain the roman numeral structure to articles if that matters to you. It’s the document right above here, so check it out. I hope it doesn’t disappoint.\nI hope this resource is helpful to people."
  },
  {
    "objectID": "posts/2019-06-23-last-two-minutes-update-2019/index.html",
    "href": "posts/2019-06-23-last-two-minutes-update-2019/index.html",
    "title": "Updating The Last Two Minute Reports",
    "section": "",
    "text": "Since the NBA began their Last Two Minute Reports (L2M) on 2015-03-01, there have been 1,934 games which have received referee grades for at least their last two minutes of NBA action. While the general public may not understand the purpose of the L2Ms, the NBA provides a FAQ for why L2Ms exist:\nWhile these justifications appear fairly straight-forward, the actual L2M process has not been fully transparent. In fact, when I first analyzed the L2Ms on Peachtree Hoops in February of 2017 it was apparent that there were changes in the criteria for grading plays. Aside from how particular plays were graded, the process of deciding whether or not a game would be publicly released as a L2M were altered with little notice.\nThe NBA changed the criteria at the start of the 2017-18 NBA Season to publicly release “any game in which one team’s lead over the other is three points or fewer at any point during the last two minutes of the fourth quarter or overtime.” Prior to 2017-18 NBA Season, the score difference at the two minute mark of the fourth quarter needed to be five points or fewer to be included – although if a game subsequently went into overtime then a L2M would be publicly released. And there was once a time when the NBA would grade all five minutes of an overtime, although the last time this occurred was on 2016-05-09 and has yet to happen since. There has been no public statement from the NBA as to why the overtime periods only include the last two minutes of said period, it just happened and hardly anyone noticed.\nI am here to update my previous analysis with the added data for the 2017-18 and 2018-19 NBA Seasons with a data friendly format (comma separated values). There is another publicly available version of the L2M data in an analyst friendly format from the folks at The Pudding, however they stopped updating their data after the 2018 NBA Finals. At the bottom of this (and here), you can find my version of the data through the most recent 2019 NBA Finals and code to reproduce it. Consider this some public service.\nBut let’s dig in to see how the L2Ms have continued to change over time by first going through a refresher for how the games are graded."
  },
  {
    "objectID": "posts/2019-06-23-last-two-minutes-update-2019/index.html#correct-non-calls",
    "href": "posts/2019-06-23-last-two-minutes-update-2019/index.html#correct-non-calls",
    "title": "Updating The Last Two Minute Reports",
    "section": "Correct Non-Calls",
    "text": "Correct Non-Calls\nThe CNC category is not straight-forward and has the possibility to influence metrics about how “correct” an official may be. Any serious data analysis of referee performance should ignore this category as it’s not clear what the criteria is to be a CNC and if this criteria has varied over time.\nFor each action, there are a large number of CNC available. Just think for a moment, as long as none of the 10 players on the court are in the paint for more than 3 consecutive seconds there are 10 potential CNC actions on a play. For each legal dribble, there is an available CNC action that no palming, travel, or double dribble occurred. The infinite possibilities of CNC action aside, a CNC does not clearly denote that a referee observed this particular action and consciously decided it was a legal action because the very nature of a CNC is passive inaction. I am not saying that the NBA L2Ms are nefarious in their CNC grades (more on that later), but the very concept of a CNC is so loony that it should not be taken seriously.\nThat bit of a rant aside, we can look at the number of graded actions for L2Ms by decisions. In the following chart, I have coded the blank decisions as “inc” but also taken the liberty to be practical and combine the blank decisions with the INC for the “INC (implied)” category. As you can see, the overwhelming amount of action in the reports is CNC and this category has crept up each season:\n\n\n\nplot of chunk grade-calls\n\n\nThe implications of an increased CNC count? Well that is clear, if one wanted to see how often a referee was “correct” then a naive metric would be to construct a version of correct plays divided by total plays – \\( \\) where one should include the blank calls into the INC but maybe they do not. Let’s call this Naive Accuracy and if one does that, then clearly it looks like the NBA referees have been improving in accuracy over time:\n\nL2M CNC Effects\n\n\n\n\n\n\n\n\n\nSeason\nGames\nGrades per period\nNaive Accuracy (without blanks)\nNaive Accuracy (including blanks)\n\n\n\n\n2015\n139\n11.3\n87.0%\n86.5%\n\n\n2016\n439\n12.9\n88.5%\n85.5%\n\n\n2017\n428\n15.0\n91.4%\n82.8%\n\n\n2018\n475\n19.7\n93.8%\n86.9%\n\n\n2019\n453\n21.3\n93.2%\n87.4%\n\n\n\nEyeballing these estimates, the Naive Accuracy without blanks could be roughly thought of as around 90% with a very clear upward trend. There is less of a pronounced trend when including the blank category and it is consistently below 90%. The claim of 90% accuracy is important to note because in the NBA’s FAQ for L2M it states “NBA officials are correct roughly 90 percent of the time” as you can see at the beginning of this article.\nWhy should 90% matter? I have no idea aside from that being thought of as the standard threshold for an “A” in academic work. But it is also possible Campbell’s Law is at work and the NBA has already decided their level of success for referees should be 90% and they are striving to achieve it with their reports. Frankly, I do not know the reason nor do I think anyone should care because this is a poorly constructed measure for evaluating referees.\nBut to be clear, the large-scale increase in CNC certainly has an effect of improving the Naive Accuracy measures but that does not imply nefarious activity of CNC. If any cooking of the books existed, then we should see L2M reports with IC or INC calls in them to have more CNC calls as a way to target the 90% threshold. We can break apart the L2Ms by this criteria for each season to see if there are systematically more CNC with reports of a bad call than without, it turns out there is not much evidence this occurs:\n\nCNC Count Conditional on IC in Report\n\n\n\n\n\n\n\n\nSeason\nIC Occurred\nNo IC Occurred\nShare of Games With IC\n\n\n\n\n2015\n3.61\n5.46\n18.0%\n\n\n2016\n6.43\n6.45\n22.3%\n\n\n2017\n8.36\n8.36\n8.18%\n\n\n2018\n12.61\n13.14\n12.6%\n\n\n2019\n14.99\n15.15\n14.3%\n\n\n\n\nCNC Count Conditional on INC in Report\n\n\n\n\n\n\n\n\nSeason\nINC Occurred\nNo INC Occurred\nShare of Games With INC\n\n\n\n\n2015\n5.29\n4.38\n73.4%\n\n\n2016\n6.69\n5.45\n77.0%\n\n\n2017\n8.42\n7.22\n93.7%\n\n\n2018\n12.99\n14.11\n92.0%\n\n\n2019\n15.08\n15.83\n93.8%\n\n\n\nWhat is clear is that there are more CNC calls in each season, regardless of whether or not a bad call happened."
  },
  {
    "objectID": "posts/2023-10-29-bird-rights-not-real/index.html",
    "href": "posts/2023-10-29-bird-rights-not-real/index.html",
    "title": "Bird Rights Aren’t Real",
    "section": "",
    "text": "Let’s get one thing straight right now: bird rights aren’t real.\nThe term “bird” is nowhere to be found in the CBA. The closest term one could find in the document is a reference to Otis Birdsong. While it is mildly interesting to know the back story of this term, ultimately the term has led to more confusion about the NBA’s CBA than it has been helpful. Not because the concept of bird rights is confusing, but instead because it has spurred many armchair CBA analysts to coin other terms that start to creep into the language of the community. And this is bad as it adds confusion to an already complex document.\nThis post is ultimately a plea to stop renaming things that are already defined. But it’s also a good history lesson about colloquial terms about the CBA. Let’s dig in."
  },
  {
    "objectID": "posts/2023-10-29-bird-rights-not-real/index.html#definition",
    "href": "posts/2023-10-29-bird-rights-not-real/index.html#definition",
    "title": "Bird Rights Aren’t Real",
    "section": "Definition",
    "text": "Definition\nI do not know the original definition of the Veteran Free Agent Exception from the 1983 CBA because that document is not publicly available nor is the subsequent 1988 CBA. The earliest CBA we have public access to is the 1995 CBA which complicates the bird rights topic because one of the major issues during the labor negotiations surrounding the 1995 CBA was to close a loophole2 with the Veteran Free Agent Exception. The loophole was related to Bridgeman v. National Basketball Ass’n, 838 F. Supp. 172 (D.N.J. 1993) where the NBA attempted to block certain contracts that abused the Veteran Free Agent Exception. The contracts in questions were “multiyear contracts with a one-year out” such as what Chris Dudley signed in 1993 with the Portland Trail Blazers.32 This is always a tough term for me as it assumes an intent behind the rule that is different from what is written. But was the restriction poorly written? Or is this just an excuse to make a change to the rule in favor of one party? Hard to tell.3 Chris Dudley signed with Portland on a 6 year $10.5 million contract with an out clause after the first year instead of 7 year $20.75 million contract that New Jersey offered him. He would use the opt-out and then go on to earn $11.5 million over 3 more seasons in Portland.\nApparently, the definition of a Veteran Free Agent at the time entailed simply completing the most previous contract with an NBA team. Once a player finished their contractual duties, the team that they completed their contract with had the Veteran Free Agent Exception available to re-sign that player. This is roughly how Michelle Hertz described the set of exceptions available to teams from the 1988 CBA in her legal analysis of the Chris Dudley court cases:\n\nThere are five basic exceptions to the salary cap and its application:\n\na Team is permitted to exceed the Salary Cap to the extent of its current contractual commitments;\na Team with a Team Salary at or over the Salary Cap may replace:\n\na Restricted and Unrestricted Free Agent who elects not to re-sign a contract with that team at 100% of the Salary last paid to the player being replaced; and\na retiree, a waived player, a holdout, or a player injured within 56 days of the first scheduled game at 50% of the Salary last paid to the player being replaced;\n\na Team with a Team salary at or over the Salary Cap may enter into a one-year Player Contract with a College Draftee at the minimum player salary;\na Team may enter into any new Player Contract with any team Veteran without regard to salary cap limitations; and\na team at or over the Salary Cap may replace a player whose Player Contract has been assigned to another NBA Team.\n\n\nTeams in the early 1990s were frequently offering all of their cap space as long-term contracts with one year out clauses to free agents with the implication that the team would exceed the Salary Cap to re-sign the following season. This made teams with little cap space available competitive in the free agent marketplace and put upward pressure on salaries. Salaries are costs to owners and this signaled rising costs of operations which businesses dislike.\nBut back to the Veteran Free Agent Exception, a major issue addressed by the 1995 CBA was limiting this loophole and introducing three new terms: 1) Qualifying Veteran Free Agent; 2) Early Qualifying Veteran Free Agent; and 3) Non-Qualifying Veteran Free Agent. These separate distinctions for players indicated different levels at which a team could exceed the Salary Cap in order to re-sign a player. The short of it is Qualifying Veteran Free Agents could be re-signed for any amount, Early Qualifying Veteran Free Agents the greater of 175% of their previous salary or 108% of the Estimated Average Player Salary, and Non-Qualifying Veteran Free Agents the greater of 120% of their previous salary or 120% of the minimum player salary:\n\n\nVeteran Free Agent Exception. Beginning on the July 1 following the last Season covered by a Veteran Free Agent’s Player Contract, such player may enter into a new Player Contract with his Prior Team (or, in the case of a player selected in an Expansion Draft that year, with the Team that selected such player in an Expansion Draft) as follows:\n\n\n\nIf the player is a Qualifying Veteran Free Agent, the new Player Contract may provide for Salary of any amount for any Season of the Contract.\nIf the player is a Non-Qualifying Veteran Free Agent, the new Player Contract may provide for a Salary for the first Season of up to the greater of (i) 120% of the Regular Salary for the final Season of the player’s prior Contract, plus 120% of any Likely Bonuses and Unlikely Bonuses, respectively, called for in the final Season covered by the player’s prior Contract, or (ii) 120% of the Minimum Annual Salary for the then-current Season. Salary increases and increases in Unlikely Bonuses in subsequent Seasons shall be governed by the 20% Rule.\nIf the player is an Early Qualifying Veteran Free Agent, the new Player Contract must cover at least two Seasons and may provide for a Salary for the first Season of up to the greater of (i) 175% of the Regular Salary for the final Season covered by his prior Contract, plus 175% of any Likely Bonuses and Unlikely Bonuses, respectively, called for in the final Season covered by the player’s prior Contract, or (ii) 108% of the Average Player Salary for the prior Season (or if the prior Season’s Average Player Salary has not been determined, 108% of the Estimated Average Player Salary for the prior Season). Salary increases and increases in Unlikely Bonuses in subsequent Seasons shall be governed by the 20% Rule.\n\n\n\n\n\nPrior to 1995, there were no distinctions for tiers of Free Agents aside from the Right of First Refusal which delineated Restricted and Unrestricted Free Agency. It was a status granted to a player that successfully completed their previous contract. Teams were able to use an Exception to exceed the Salary Cap for their own Free Agents but not for other team’s Free Agents. An implication of this was that the team with the most available cap space at the beginning of an off-season drove the market for star Free Agents as that became a star player’s next best option. The star’s incumbent team could exceed the Salary Cap by any amount to re-sign the player, but why would that team bid more than the player’s next best alternative? This has been a bit of a tangent though, so back to the semantics about bird rights."
  },
  {
    "objectID": "posts/2023-10-29-bird-rights-not-real/index.html#historical-context",
    "href": "posts/2023-10-29-bird-rights-not-real/index.html#historical-context",
    "title": "Bird Rights Aren’t Real",
    "section": "Historical Context",
    "text": "Historical Context\nLarry Bird retired in 1992. At no point in time did he play during a CBA that had separate tiers for Free Agents aside from restricted versus unrestricted. And yet, for some reason, we’ve4 assigned the term bird rights to mostly mean a Qualifying Veteran Free Agent or its associated Exception. The community further extends this kind of terminology to the terms early birds and non-birds which apparently refer to the Early Qualifying Free Agent and Non-Qualifying Free Agent statuses that the CBA assigns to Free Agents. The obvious implication here being that Qualifying = bird.4 The nerdy CBA community, although this has continually crept into the NBA community at large. The official NBA website even has a CBA 101 which is a simplified version of the CBA and they refer to bird rights and bird free agents within it.\nBut Larry Bird played no direct or indirect role for how contract(s) length now determines a team’s rights to re-sign a player – he only indirectly influenced the Exception that a team has available for their Free Agents. If any player had an influence on these different tiers it would be Chris Dudley as his litigation directly spurred changes to the 1995 CBA by defining new tiers of Free Agents. If anything, the CBA community should have coined Dudley Do-Rights as a way to establish a Veteran Free Agent reaching particular thresholds in completing contracts that allows their previous team to exceed the Salary Cap to be consistent with applying the name of a player to the topic in the CBA they influenced.\n\n\n\nDudley Do-Right, but also maybe a caricature of me well actuallying this issue"
  },
  {
    "objectID": "posts/2023-10-29-bird-rights-not-real/index.html#a-supermax",
    "href": "posts/2023-10-29-bird-rights-not-real/index.html#a-supermax",
    "title": "Bird Rights Aren’t Real",
    "section": "A Supermax?",
    "text": "A Supermax?\nThe CBA has a definition for Maximum Annual Salary. For a player, this petty much depends on your Years of Service at this point:\n\nPlayers with 0 to 6 Years of Service can earn up to 25% of the Salary Cap;\nPlayers with 7 to 9 Years of Service can earn up to 30% of the Salary Cap; and\nPlayers with 10 or more Years of Service can earn up to 35% of the Salary Cap.\n\nThe first takeaway one should have from these delineations is that there is no singular “max” but instead a player upper limit for the annual earnings for them, or a Maximum Annual Salary per the CBA. It is a player dependent term, which means if one wants to reference “max” then it should be their max and not the max. But this quibble aside, there are two provisions that allow a player to eschew their respective tier which has been termed a “supermax”:\n\nArticle II.7.a.1: players coming off their Rookie Scale Contract that hit the “Higher Max Criteria” which bumps them from the 25% level to the 30% level.\nArticle II.7.a.2: players with 8 or 9 Years of Service that can qualify as a Designated Veteran Player if they hit the “Higher Max Criteria” which bumps them from the 30% level to the 35% level.\n\nThe “supermax” distinction causes more confusion than clarity as both of these situations fall within its loose definition. A player coming off of their Rookie Scale Contract would have a “supermax” that is equal to the “max” of a Veteran with 7-9 Years of Service but where that Veteran’s “supermax” would actually be the “max” of a Veteran with 10 or more Years of Service where that Veteran does not have a corresponding “supermax”. I believe the essence of a “supermax” is not even a level but instead describing the ability to skip a particular tier for a player.\nAt the end of the day, we have no singular “supermax”. What we have instead is the same issue as the “max” – a player dependent term. So what purpose is this solving for clarity on a player’s potential Salary?"
  },
  {
    "objectID": "posts/2023-10-29-bird-rights-not-real/index.html#poison-pills",
    "href": "posts/2023-10-29-bird-rights-not-real/index.html#poison-pills",
    "title": "Bird Rights Aren’t Real",
    "section": "Poison Pills",
    "text": "Poison Pills\nThe first time I recall reading the phrase “poison pill” was circa 2000 in relation to the Base Year Compensation (BYC) issues that were present in the 1999 CBA. It is likely this phrase was around much earlier because BYC was introduced in the 1995 CBA as a way to close a potential loophole related to the Dudley Do-Rights. However, the “poison pill” term has morphed to cover more provisions and flourishes today even though BYC is no longer present in the CBA.\n\nBase Year Compensation\nThe quick and dirty definition of BYC was an Early Qualifying Veteran or Qualifying Veteran who signed a contract/extension that resulted in a raise in excess of 120% of their previous Salary would have an artificially lower Salary for trade purposes5. It was a status that a player could have for a Salary Cap Season that would only apply in a situation where the player was traded. The NBA wanted to reduce the possibility of a Team re-signing a player to an excessive contract in order to use the contract for matching salaries in a trade down the road. The “poison pill” aspect of BYC was related to the bloating of a player’s Salary for trade purposes and how it made it difficult to match salaries in a trade.5 The exact amount of a reduction in Salary for matching purposes varied across CBAs as well as the amount of time BYC status would apply to a player, but the reduction in Salary only applied to the Team trading away the player. BYC limited the amount of aggregate Salaries the trading team could take back. The Team receiving the player with BYC status always counted their actual Salary for matching purposes.\nThe problem with BYC (and probably the poison pill aspect) comes from the inability to match salaries when they seemingly should be able to match. The canonical example of BYC issues comes from the 1999 CBAFAQ:\n\nHere is a simple example – two $5 million players, both of whom are re-signed (by teams over the cap) for $10 million. Both players become base year players whose base year amount is $5 million (50% of the new salary). If the teams want to trade these players for each other they compare their player’s base year amount to the other player’s full salary. So each team can take back a maximum of 115% plus $100,000 of their player’s $5 million base year amount, or $5.85 million. They compare $5.85 million to the other player’s full $10 million. $10 million is way too high, so this trade can’t be done, even though the players’ actual salaries match exactly.\n\nIn essence, you have two players with the same contracts and yet they can’t be traded for each other. I guess each has been…poisoned?\nMaybe?\n\n\nCurrent Usage\nThe term Base Year Compensation was completely removed from the 2011 CBA. Although the term cannot be found, it still loosely remained because re-signing a player for a 120% or more raise with the Qualifying or Early Qualifying Veteran Free Agent Exception can trigger a reduction in Salary for trade matching purposes akin to BYC. But this only applies to sign-and-trade transactions, once the player becomes trade eligible there is no BYC status associated with them.\nIf BYC pretty much does not exist anymore, why do we still hear about players being “poison pilled” fairly often? Well, that’s because two new concepts arose in the CBA that seem to be related to this concept, per the CBAFAQ:\n\nPlayers that sign an extension to their Rookie Scale contract6.\nRestricted Free Agents with two or fewer Years of Service that signed offer sheets with maximum allowable payments in the first two seasons then a significant increase in the additional season(s)7.\n\n6 Article VII.8.g: In the event a Rookie Scale Contract is extended pursuant to Section 7(b) above and a Team proposes to trade such Contract to another Team prior to the first day of the Salary Cap Year immediately following such Extension, then, only for purposes of determining whether the acquiring Team has Room for the Contract, the Salary for the last Salary Cap Year of the original term of the Contract shall be deemed to equal the average of the aggregate Salaries for such Salary Cap Year and each Salary Cap Year of the extended term.7 Article XI.5.d.iii: If the ROFR Team exercises its Right of First Refusal, the player’s Salary for each Salary Cap Year covered by the Contract with the ROFR Team shall be the Salary for such Salary Cap Year as set forth in the Contract. Notwithstanding the preceding sentence, if the sum of (A) the ROFR Team’s Team Salary at the time it exercises its Right of First Refusal, and (B) the average of the aggregate Salaries for each Salary Cap Year of the Offer Sheet, is less than or equal to the Salary Cap for the then-current Salary Cap Year, then the ROFR Team may, in connection with exercising its Right of First Refusal, elect to have the player’s Salary for each Salary Cap Year covered by the Contract equal the average of such aggregate Salaries for each such Salary Cap Year.The first situation is fairly analogous to BYC because the outgoing versus incoming salary is different for the player but in reverse order – the player typically receives a large raise and so the outgoing is the actual salary while the incoming is an average of future salaries to reflect a higher value. But the second? Well, there’s no oddity with outgoing/incoming salaries in a trade. So what gives?\nWith Restricted Free Agents that receive the bloated Offer Sheets, the “poison pill” aspect seems to refer to either the 1) difference in actual Salary versus the Salary for Salary Cap purposes or 2) the sudden massive increase in Salary for a player. It’s really not clear which of these two the “poison pill” is referring to, but for either of these it is certainly unrelated to trades as the salary for outgoing and incoming are identical in a trade of a player that fit this criteria.\nSo what gives?\n\n\nSigning Bonuses\nSigning bonuses are not too common in the NBA, but they do occur. When a signing bonus does happen, it is an upfront payment made to a player. But for Salary Cap purposes? This amount is spread out equally over the life of the contract. A $10 million bonus on a 5 Season contract gets paid out immediately, but it is applied at $2 million for each Season of the contract for compliance with the Salary Cap (and with trades).\nThis creates a difference in actual Salary versus a Salary for the Salary Cap. And yet, we never see a reference to a contract with a signing bonus as a “poison pill”.\nSo what gives?\n\n\nPerformance Bonuses\nContracts in the NBA can include incentives (performance bonuses) that are based on player or team performance and paid out if met. In a given Salary Cap Season, these bonuses are deemed either likely or unlikely based on the previous Season’s performance since you can’t predict the future and determine if these incentives will be paid out or not. In the case of likely bonuses, they count towards the Salary Cap during the Season. This is the opposite for unlikely bonuses as they do not count towards a player’s Salary for that Salary Cap Season.\nWhen a player is traded, team based incentives can cause the Salary of a player to fluctuate. For instance, if a player has a $1 million incentive for making the playoffs and there is a potential trade from Team A (that made the playoffs) and Team B (that did not make the playoffs) then there will be a difference in how that player’s Salary is viewed in a trade: Team A will count the player at $1 million more than Team B. This can create a situation of a difference in outgoing versus incoming Salary. And yet, we do not hear of these incentives as “poison pill”.\nSo what gives?\n\n\nOver 38s\nOlder players in the NBA have an odd relationship with the CBA. They typically benefit from the agreement like with higher allowable Maximum Salaries and higher Minimum Salaries. But, there’s a clause in the CBA that works against them called the Over 38 Rule8. This rule affects long term contracts (4+ Seasons) with players that will be 38 or older during the contract. The effect is to redistribute a player’s Salary for Salary Cap purposes in a different manner than what the actual payouts are by “zeroing out” the Salary in the contract that is more than 4 Seasons away9. And yet, we never hear Over 38 as related to a “poison pill”.8 Article VII.3.a.2.: For the 2017 and 2023 CBA this has been the Over 38 Rule, but previous versions it was the Over 35 Rule in the 1995 CBA or the Over 36 Rule from the 1999 CBA and beyond.9 The Salary 4 Seasons away are actually applied pro rata to the previous Seasons for Salary Cap purposes but not for actual payments.\nSo what gives?"
  }
]